<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<title>CTF InsecuritasDirect - IES Castelar Curso 2025/2026 Ciberseguridad</title>
		<link rel="icon" href="iescastelar_logo.png" type="image/x-icon">
		<link rel="stylesheet" href="styles.css">
	</head>

	<body>
		<div class="container">
			<h1>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#2ea043" viewBox="0 0 24 24" style="vertical-align: middle; margin-right:6px;">
					<path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V12c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm-3 8V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3h-6z"/>
				</svg>
				CTF de Ciberseguridad — InsecuritasDirect
				
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#2ea043" viewBox="0 0 24 24" style="vertical-align: middle; margin-right:6px;">
					<path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V12c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm-3 8V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3h-6z"/>
				</svg>
			</h1>
			
			<div class="intro-box">
				<h2>Bienvenido al CTF InsecuritasDirect</h2>
				<p>
					Han hackeado la página web de nuestra empresa InsecuritasDirect y estamos en un grave problema. Se ha filtrado información confidencial que no debería estar pública.<br/>
					Necesitamos que nos ayudes a identificar la brecha de seguridad y encontrar al culpable<br/><br/>
					Quizá vez te venga bien el correo que nos ha enviado el atacante, puede que contenga información relevante: <a href="recursos/email_InsecuritasDirect.pdf" target="_blank">Puedes descargar el email aquí.</a><br/>
					La página que tienes que auditar es <a href="https://insecuritas-direct.infinityfree.me/" target="_blank">https://insecuritas-direct.infinityfree.me/</a>, por favor ayúdanos.
					
					<br/><br/>
					
					<strong>
						En este CTF encontrarás varios retos de ciberseguridad. 
						Cada reto tiene pistas que puedes revelar si te quedas atascado. 
						Puedes comprobar si has encontrado la flag correspondiente a cada uno de los retos.
					</strong>
				</p>
				<div class="note-box">
					<strong>Nota:</strong> Todas las flags tiene el formato "FLAGX_{XXXXXXXXXX}". Este CTF se puede completar en su totalidad con ayuda de herramientas online sin instalar nada.
				</div>
			</div>


			
			<div class="challenge">
				<h2>Reto 1 — Auditoría de Ciberseguridad</h2>
				<p>¿Puedes buscar fallos de seguridad en nuestra web? No sabemos cómo habrán accedido a ella.</p>
				
				<div class="flag-box">
					<input type="text" class="flag-input" placeholder="Introduce la flag..." data-flag="FLAG1_{SeTeVe_L4_P4SS}">
					<button class="flag-btn">Comprobar flag</button>
					<span class="flag-result"></span>
				</div><br/>

				<button class="hint-btn" data-target="r1-h1">Pista 1</button>
				<button class="hint-btn" data-target="r1-h2">Pista 2</button>
				<div id="r1-h1" class="hint" hidden>
					Busca en la página web, tal vez encuentres algo.
				</div>
				<div id="r1-h2" class="hint" hidden>
					Hay que tener cuidado con las fotografías que se suben a internet, pueden contener información confidencial.
				</div>
				
			</div>



			<div class="challenge">
				<h2>Reto 2 — ¿De Dónde Han Obtenido el Documento?</h2>
				<p>Si has encontrado la brecha de seguridad, intenta acceder a la página y ver de dónde han extraido la información.</p>
				
				<div class="flag-box">
					<input type="text" class="flag-input" placeholder="Introduce la flag..." data-flag="FLAG2_{D0cum3nt0_F1Ltr3d0}">
					<button class="flag-btn">Comprobar flag</button>
					<span class="flag-result"></span>
				</div><br/>
				
				<button class="hint-btn" data-target="r2-h1">Pista 1</button>
				<button class="hint-btn" data-target="r2-h2">Pista 1</button>
				<div id="r2-h1" class="hint" hidden>
					Utiliza la contraseña del reto anterior.
				</div>
				<div id="r2-h2" class="hint" hidden>
					El nombre de usuario lo puedes encontrar en la página también.
				</div>
				
				
			
			</div>
			
			<div class="challenge">
				<h2>Reto 3 — Identificar al Hacker</h2>
				<p>Busca al culpable, a ver si puedes encontrar más información con lo que ya tienes.</p>
				
				<div class="flag-box">
					<input type="text" class="flag-input" placeholder="Introduce la flag..." data-flag="FLAG3_{tr4fic4nt3_d3_but4n0}">
					<button class="flag-btn">Comprobar flag</button>
					<span class="flag-result"></span>
				</div><br/>
				
				<button class="hint-btn" data-target="r3-h1">Pista 1</button>
				<button class="hint-btn" data-target="r3-h2">Pista 2</button>
				<div id="r3-h1" class="hint" hidden>
					Los metadatos de un archivo pueden proporcionar información relevante.
				</div>
				<div id="r3-h2" class="hint" hidden>
					¿Quizá el email que nos enviaron contenga más información?
				</div>
			</div>
			
			
			
			<div class="challenge">
				<h2>Reto 4 — Descubrir el Nombre Real del Hacker</h2>
				<p>¿Puedes averiguar el nombre real del atacante? Queremos denunciarle, quizá haya cometido algún error.</p>

				<div class="flag-box">
					<input type="text" class="flag-input" placeholder="Introduce la flag..." data-flag="FLAG4_{jose_rodriguez_martin}">
					<button class="flag-btn">Comprobar flag</button>
					<span class="flag-result"></span>
				</div><br/>
				
				<button class="hint-btn" data-target="r4-h1">Pista 1</button>
				<button class="hint-btn" data-target="r4-h2">Pista 2</button>
				<div id="r4-h1" class="hint" hidden>
					Busca en los archivos subidos por el atacante, tal vez ha ocultado el mensaje...
				</div>
				<div id="r4-h2" class="hint" hidden>
					El hacker mencionó que estaba aprendiendo diferentes técnicas de ciberseguridad, prueba con esteganografía en algún archivo. <a href=https://stylesuxx.github.io/steganography/ target=_blank>https://stylesuxx.github.io/steganography/</a>
				</div>
				
			</div>
			
			
			
			<div class="challenge">
				<h2>Reto 5 — Motivación del Atacante</h2>
				<p>¿Por qué nos habrá atacado? Busca el motivo y a ver si puedes encontrar la correlación</p>
				
				<div class="flag-box">
					<input type="text" class="flag-input" placeholder="Introduce la flag..." data-flag="FLAG5_{D3SP3D1D0}">
					<button class="flag-btn">Comprobar flag</button>
					<span class="flag-result"></span>
				</div><br/>
				
				<button class="hint-btn" data-target="r5-h1">Pista 1</button>
				<button class="hint-btn" data-target="r5-h2">Pista 2</button>
				<div id="r5-h1" class="hint" hidden>
					¿Has encontrado el archivo oculto? Que texto más raro...
				</div>
				<div id="r5-h2" class="hint" hidden>
					¿Tal vez esté cifrado?
				</div>
			</div>
			
			<div class="authors-box">
				<strong>Autores del CTF:</strong><br/><br/>
				Florian Marian Pavalachi<br/>
				Sergio Romero Soriano<br/>
				Ginés Gutiérrez Saura<br/>
				Luis Manuel Hermosa Zamora
			</div>
			
			<footer>
				&copy; IES Castelar Curso 2025/2026 - Curso de Especialización en Ciberseguridad
			</footer>
		</div>
		
		
		
		<script>
			// Botones
			document.querySelectorAll(".hint-btn").forEach(btn => {
				btn.addEventListener("click", () => {
					const challenge = btn.closest(".challenge");
					const target = document.getElementById(btn.dataset.target);
					
					const wasOpen = !target.hasAttribute("hidden")
					
					// Cerrar todas las pistas del reto
					challenge.querySelectorAll(".hint").forEach(hint => {
						hint.setAttribute("hidden", "");
					});

					// Si no estaba abierta, la abrimos
					if (!wasOpen) {
						target.hidden = false;
					}
				});
			});
			
			// FLAG
			
			document.querySelectorAll(".flag-btn").forEach(btn => {
				btn.addEventListener("click", () => {
					const challenge = btn.closest(".challenge");
					const input = challenge.querySelector(".flag-input");
					const result = challenge.querySelector(".flag-result");

					const correctFlag = input.dataset.flag;
					const userFlag = input.value.trim();

					input.classList.remove("correct", "wrong");

					if (userFlag === correctFlag) {
						input.classList.add("correct");
						input.disabled = true;
						btn.disabled = true;
						result.textContent = "✅ Flag correcta";
						result.style.color = "#2ea043";
					} else {
						input.classList.add("wrong");
						result.textContent = "❌ Flag incorrecta";
						result.style.color = "#f87171";
						setTimeout(() => input.classList.remove("wrong"), 1000);
					}
				});
			});
		</script>

	</body>
</html>